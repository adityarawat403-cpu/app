<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<title>ReplyShastra AI</title>

<meta name="google-site-verification" content="rznJYnPQ3urHS3woTdqlZZ0ohdCoHf4GwCjjZlhM1WE"/>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b0b12">

<style>

:root{
--vh:1vh;
}

body{
margin:0;
background:#05050a;
font-family:Trebuchet MS, sans-serif;
color:white;
height:calc(var(--vh,1vh)*100);
display:flex;
flex-direction:column;
}

/* SPLASH */

#splash{
position:fixed;
inset:0;
background:radial-gradient(circle,#200030,#000 70%);
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
z-index:9999;
}

.title{
font-size:42px;
color:#c084ff;
letter-spacing:4px;
animation:glow 2s infinite alternate;
}

@keyframes glow{
from{ text-shadow:0 0 10px #9333ea;}
to{ text-shadow:0 0 35px #d8b4fe;}
}

.trishul{
font-size:95px;
color:silver;
margin:20px 0;
animation:float 2s ease-in-out infinite;
}

@keyframes float{
0%{transform:translateY(0)}
50%{transform:translateY(-12px)}
100%{transform:translateY(0)}
}

.enter{
padding:12px 30px;
background:#9333ea;
border:none;
border-radius:30px;
color:white;
font-size:18px;
}

/* HEADER */

.header{
height:60px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 15px;
background:#0d0d14;
}

.brand{
display:flex;
align-items:center;
gap:10px;
font-size:20px;
}

.logo{
width:34px;
height:34px;
border-radius:10px;
background:linear-gradient(45deg,#7c3aed,#a855f7);
display:flex;
align-items:center;
justify-content:center;
font-weight:bold;
}

.menu{font-size:26px;cursor:pointer;}

.sidebar{
position:fixed;
top:0;
right:-260px;
width:260px;
height:100%;
background:#0d0d14;
transition:.3s;
padding:20px;
z-index:999;
}

.sidebar.active{right:0;}

.sidebar button{
width:100%;
padding:14px;
margin-top:14px;
background:#15151f;
border:none;
color:white;
border-radius:14px;
}

/* CHAT */

.chat{
flex:1;
overflow-y:auto;
padding:14px;
display:flex;
flex-direction:column;
gap:12px;
}

.msg{
max-width:78%;
padding:12px 14px;
border-radius:16px;
line-height:1.5;
white-space:pre-wrap;
}

.user{
background:linear-gradient(45deg,#7c3aed,#a855f7);
align-self:flex-end;
}

.bot{
background:#14141c;
align-self:flex-start;
}

/* INPUT FIX */

.inputbox{
display:flex;
padding:10px;
background:#080811;
position:sticky;
bottom:0;
}

input{
flex:1;
padding:12px;
border:none;
border-radius:12px;
background:#14141c;
color:white;
}

.send{
margin-left:8px;
padding:12px 18px;
border:none;
border-radius:12px;
background:#9333ea;
color:white;
}

</style>
</head>

<body>

<div id="splash">
<div class="title">ReplyShastra</div>
<div class="trishul">ðŸ”±</div>
<button class="enter" onclick="enterApp()">Enter Shastra</button>
</div>

<div class="header">
<div class="brand">
<div class="logo">RP</div>
<div>ReplyShastra</div>
</div>
<div class="menu" onclick="toggleMenu()">â˜°</div>
</div>

<div id="sidebar" class="sidebar">
<button onclick="alert('Free Plan: 5 replies/day')">My Plan</button>
<button onclick="alert('Premium Coming Soon')">Premium</button>
<button onclick="location.reload()">Clear Chat</button>
</div>

<div id="chat" class="chat"></div>

<div class="inputbox">
<input id="msg" placeholder="Describe your situation...">
<button class="send" onclick="send()">Send</button>
</div>

<audio id="click" src="https://cdn.pixabay.com/audio/2022/03/15/audio_4c0f6d86f7.mp3"></audio>
<audio id="reply" src="https://cdn.pixabay.com/audio/2022/03/26/audio_c5b4b1a2c5.mp3"></audio>

<script>

const vh = window.innerHeight * 0.01;
document.documentElement.style.setProperty('--vh', `${vh}px`);

function play(id){
let a=document.getElementById(id);
a.currentTime=0;
a.play().catch(()=>{});
}

function enterApp(){
document.getElementById("splash").style.display="none";
play("click");
}

function toggleMenu(){
document.getElementById("sidebar").classList.toggle("active");
play("click");
}

const chat=document.getElementById("chat");

function addMessage(text,type){
let div=document.createElement("div");
div.className="msg "+type;
div.textContent=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

async function send(){

let input=document.getElementById("msg");
let text=input.value.trim();
if(!text) return;

addMessage(text,"user");
play("click");

input.value="";

try{
let res=await fetch("https://replyshastraai-production.up.railway.app/chat",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({message:text})
});

let data=await res.json();
addMessage(data.reply,"bot");
play("reply");

}catch{
addMessage("Server busy... try again.","bot");
}
}

</script>
</body>
</html>
