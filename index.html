<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ReplyShastra</title>

<style>
*{box-sizing:border-box;}

body{
margin:0;
background:#050507;
font-family:Segoe UI, Arial;
color:white;
height:100vh;
overflow:hidden;
}

/* ===== INTRO SCREEN ===== */
#intro{
position:fixed;
width:100%;
height:100%;
background:radial-gradient(circle at center,#120019,#050507 70%);
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
z-index:9999;
transition:opacity .8s ease;
}

.logo{
font-size:34px;
letter-spacing:3px;
color:#b56cff;
opacity:0;
animation:fadeIn 1.2s forwards;
}

.tag{
margin-top:15px;
font-size:14px;
opacity:0;
color:#d9b3ff;
animation:fadeIn 2s forwards;
}

.sword{
font-size:70px;
margin-top:20px;
animation:float 2s infinite ease-in-out;
}

@keyframes fadeIn{
to{opacity:1}
}

@keyframes float{
0%{transform:translateY(0)}
50%{transform:translateY(-12px)}
100%{transform:translateY(0)}
}

/* ===== MAIN APP ===== */

.header{
height:60px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 15px;
background:#0d0d13;
border-bottom:1px solid #1f1f2b;
font-size:22px;
letter-spacing:2px;
}

.menu{
font-size:26px;
cursor:pointer;
}

/* SIDEBAR */
.sidebar{
position:fixed;
top:0;
right:-270px;
width:270px;
height:100%;
background:#0d0d13;
transition:.35s;
padding:20px;
z-index:999;
}

.sidebar.active{
right:0;
}

.sidebar button{
width:100%;
padding:14px;
margin-top:12px;
background:#161622;
color:white;
border:none;
border-radius:10px;
cursor:pointer;
font-size:15px;
}

/* CHAT */
.chat{
height:calc(100vh - 120px);
overflow-y:auto;
padding:15px;
display:flex;
flex-direction:column;
gap:12px;
}

.msg{
max-width:75%;
padding:13px 15px;
border-radius:16px;
line-height:1.5;
white-space:pre-wrap;
font-size:15px;
}

.user{
background:linear-gradient(45deg,#6d6dff,#a855f7);
align-self:flex-end;
}

.bot{
background:#161622;
align-self:flex-start;
}

/* INPUT */
.inputbox{
height:60px;
display:flex;
padding:10px;
background:#09090d;
border-top:1px solid #1a1a25;
}

input{
flex:1;
padding:12px;
border:none;
outline:none;
border-radius:12px;
background:#161622;
color:white;
font-size:15px;
}

button.send{
margin-left:8px;
padding:12px 18px;
border:none;
border-radius:12px;
background:#8b5cf6;
color:white;
font-weight:bold;
cursor:pointer;
}
</style>
</head>

<body>

<!-- INTRO -->
<div id="intro">
<div class="logo">ReplyShastra</div>
<div class="sword">⚔️</div>
<div class="tag">Relationship Coach • Wingman • Therapist</div>
</div>

<!-- HEADER -->
<div class="header">
ReplyShastra
<div class="menu" onclick="toggleMenu()">☰</div>
</div>

<!-- SIDEBAR -->
<div id="sidebar" class="sidebar">
<button onclick="alert('Free Plan: 5 replies/day')">My Plan</button>
<button onclick="alert('Premium coming soon')">Premium</button>
<button onclick="clearChat()">Clear Chat</button>
</div>

<!-- CHAT -->
<div id="chat" class="chat"></div>

<!-- INPUT -->
<div class="inputbox">
<input id="msg" placeholder="Type your situation...">
<button class="send" onclick="send()">Send</button>
</div>

<script>

// INTRO REMOVE AFTER 2.5s
setTimeout(()=>{
document.getElementById("intro").style.opacity="0";
setTimeout(()=>document.getElementById("intro").style.display="none",800);
},2500);

const chat=document.getElementById("chat");

function toggleMenu(){
document.getElementById("sidebar").classList.toggle("active");
}

function clearChat(){
chat.innerHTML="";
}

function addMessage(text,type){
let div=document.createElement("div");
div.className="msg "+type;
div.textContent=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

async function send(){
let input=document.getElementById("msg");
let text=input.value.trim();
if(!text) return;

addMessage(text,"user");
input.value="";

addMessage("Typing...","bot");

try{
let res=await fetch("https://replyshastraai-production.up.railway.app/chat",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({message:text})
});

let data=await res.json();
chat.lastChild.remove();
addMessage(data.reply,"bot");

}catch(e){
chat.lastChild.remove();
addMessage("Server busy... try again.","bot");
}
}

</script>
</body>
</html>
